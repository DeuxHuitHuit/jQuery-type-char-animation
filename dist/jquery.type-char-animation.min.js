/*! jQuery Type Char Animation - v2.0.1 - 2014-11-28
* https://github.com/DeuxHuitHuit/jQuery-type-char-animation
* Copyright (c) 2014 Deux Huit Huit; Licensed MIT */
(function(e,t){"use strict";var n="keydown.typeCharAnimation",r=function(e,t){return~~(Math.random()*1e4)%30+50},i=function(e,t){return 150},s=function(e,t){return!e||/\s/.test(e)},o=function(t,n){var r=e(this);return r.each(function(){var r=e(this),i=e.type(t)==="string"?t:e.extend({},e.typeCharAnimation.defaults,t);c(r,i,n)})},u=function(e){return e.preventDefault(),!1},a={initialPosition:function(e){return 0},increment:1,"char":function(e,t){return e[t]},newValue:function(e,t,n){return n+e[t]},isOver:function(e,t){return t===e.length}},f={initialPosition:function(e){return e.length},increment:-1,"char":function(e,t){return e[t]},newValue:function(e,t,n){return n.substring(0,n.length-1)},isOver:function(e,t){return t===0}},l=function(e,t,n){if(!!n.matrixEffect){e=e.split("");var r=Math.min(n.matrixEffect,e.length),i,s,o=r,u=e.length-1;while(o>0&&u>=0)n.isWhiteSpace(e[u])||(i=~~(Math.random()*1e4)%n.matrixValues.length,s=n.matrixValues[i],e[u]=s,o--),u--;e=e.join("")}return e},c=function(t,r,i){var s=e(t),o=s.data(),c=function(e){return function(n){return e.call(s,n)}}(s[s.is("input, textarea")?"val":"text"]);!o.typeCharAnimation||clearTimeout(o.typeCharAnimation._timeout);if(e.type(r)==="string"){var h=r;r=o.typeCharAnimation,!r||h==="stop"&&!!i&&i.end&&c((r.initialText||"")+r.text);return}o.typeCharAnimation=r;var p=r.text.split(""),d=r.reverse?f:a,v=d.initialPosition(p),m=0,g=r.initialText||"";!r.reverse||(g+=r.text);var y=g,b=function(){if(r.matrixEffect>0&&!!y){r.matrixEffect--;var i=l(y,v,r);c(i),w()}else s.off(n,u),c(y),e.isFunction(r.complete)&&r.complete.call(t)},w=function(){o.typeCharAnimation._timeout=setTimeout(b,r.charTime(y.substring(y.length-1),v))},E=function(){var n=d.char(p,v),i=d.newValue(p,v,y),u=r.isWhiteSpace(n,v),a=l(i,v,r);c(a),m++,m>=r.passes&&(m=0,v+=d.increment,y=i),e.isFunction(r.step)&&r.step.call(t,n,v),r.focus&&s.focus(),d.isOver(p,v)?w():o.typeCharAnimation._timeout=setTimeout(E,u?r.spaceTime(n,v):r.charTime(n,v))};!g||c(g),!r.blockUserInput||s.on(n,u),r.focus&&s.focus(),setTimeout(E,r.initialDelay)};e.fn.extend({typeCharAnimation:o}),e.typeCharAnimation={defaults:{_timeout:0,initialText:null,initialDelay:0,text:null,step:null,complete:null,blockUserInput:!1,focus:!0,reverse:!1,matrixEffect:0,passes:1,matrixValues:"abcdefghijklmnopqrstuvwxyz".split(""),charTime:r,spaceTime:i,isWhiteSpace:s}}})(jQuery);